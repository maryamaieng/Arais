<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¹Ø±Ø§ÙŠØ³ - Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø§Ø¹Ø§Øª</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .header {
            background: linear-gradient(135deg, #8B4513, #A0522D);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
        }

        .nav-buttons {
            display: flex;
            background: #f8f9fa;
            padding: 15px;
            border-bottom: 2px solid #e9ecef;
        }

        .nav-btn {
            flex: 1;
            padding: 12px;
            border: none;
            background: none;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            border-radius: 8px;
            margin: 0 5px;
            transition: all 0.3s ease;
        }

        .nav-btn.active {
            background: #8B4513;
            color: white;
        }

        .content {
            padding: 25px;
            min-height: 500px;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* ÙƒØ±ÙˆØª Ø§Ù„Ù‚Ø§Ø¹Ø§Øª */
        .hall-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 4px solid #8B4513;
            position: relative;
        }

        .hall-status {
            position: absolute;
            top: 15px;
            left: 15px;
            padding: 5px 10px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .status-available {
            background: #d4edda;
            color: #155724;
        }

        .status-booked {
            background: #f8d7da;
            color: #721c24;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .book-btn {
            background: #8B4513;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 10px;
            width: 100%;
            transition: all 0.3s ease;
        }

        .book-btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
        }

        /* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… */
        .admin-panel {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #e9ecef;
        }

        .control-panel {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border: 2px solid #e9ecef;
        }

        .notification {
            background: #e7f3ff;
            border: 1px solid #b3d9ff;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .notification.new {
            background: #fff3cd;
            border-color: #ffeaa7;
        }

        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            margin: 5px;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-warning {
            background: #ffc107;
            color: #212529;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }

        .stat-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .stat-number {
            font-size: 1.5em;
            font-weight: bold;
            color: #8B4513;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸŠ Ø¹Ø±Ø§ÙŠØ³ - Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø§Ø¹Ø§Øª</h1>
            <p>Ø±Ø¨Ø· Ù…Ø¨Ø§Ø´Ø± Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ£ØµØ­Ø§Ø¨ Ø§Ù„Ù‚Ø§Ø¹Ø§Øª</p>
        </div>

        <div class="nav-buttons">
            <button class="nav-btn active" onclick="showPage('client')">ğŸ‘¥ Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡</button>
            <button class="nav-btn" onclick="showPage('owner')">ğŸ¢ Ù„Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ù‚Ø§Ø¹Ø§Øª</button>
            <button class="nav-btn" onclick="showPage('admin')">ğŸ“± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</button>
            <button class="nav-btn" onclick="showPage('control')">âš™ Ø§Ù„ØªØ­ÙƒÙ…</button>
        </div>

        <div class="content">
            <!-- ØµÙØ­Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ -->
            <div id="client" class="page active">
                <h2>ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† Ù‚Ø§Ø¹Ø© Ù„Ø­ÙÙ„ØªÙƒ</h2>
                <div id="halls-list">
                    <!-- Ø§Ù„Ù‚Ø§Ø¹Ø§Øª ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                </div>
            </div>

            <!-- ØµÙØ­Ø© Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ù‚Ø§Ø¹Ø§Øª -->
            <div id="owner" class="page">
                <h2>ğŸ¢ Ø¥Ø¯Ø§Ø±Ø© Ù‚Ø§Ø¹Ø§ØªÙƒ</h2>
                <div class="admin-panel">
                    <button class="btn btn-success" onclick="addHall()">â• Ø¥Ø¶Ø§ÙØ© Ù‚Ø§Ø¹Ø©</button>
                    <button class="btn btn-warning" onclick="refreshStatus()">ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª</button>
                </div>
                <div id="owner-halls">
                    <!-- Ù‚Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ø§Ù„Ùƒ ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                </div>
            </div>

            <!-- ØµÙØ­Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
            <div id="admin" class="page">
                <h2>ğŸ“± Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</h2>
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-number" id="total-bookings">0</div>
                        <div>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="pending-bookings">0</div>
                        <div>ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªØ£ÙƒÙŠØ¯</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="confirmed-bookings">0</div>
                        <div>Ù…Ø¤ÙƒØ¯Ø©</div>
                    </div>
                </div>
                <div id="notifications-list">
                    <!-- Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                </div>
            </div>

            <!-- ØµÙØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
            <div id="control" class="page">
                <h2>âš™ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</h2>
                <div class="control-panel">
                    <h3>ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ù‚Ø§Ø¹Ø§Øª</h3>
                    <button class="btn btn-success" onclick="syncAllHalls()">Ù…Ø²Ø§Ù…Ù†Ø© ÙƒÙ„ Ø§Ù„Ù‚Ø§Ø¹Ø§Øª</button>
                    <button class="btn btn-warning" onclick="sendNotifications()">Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</button>
                    
                    <h3 style="margin-top: 20px;">ğŸ“ ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø§Ù„ÙƒÙŠÙ†</h3>
                    <div id="owners-contacts">
                        <!-- Ø¬Ù‡Ø§Øª Ø§ØªØµØ§Ù„ Ø§Ù„Ù…Ø§Ù„ÙƒÙŠÙ† -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø³ÙŠØ·Ø©
        let halls = [
            { 
                id: 1, 
                name: "Ù‚Ø§Ø¹Ø© Ø§Ù„Ø±Ø´ÙŠØ¯", 
                area: "Ø§Ù„Ù…Ù†ØµÙˆØ±", 
                capacity: 600, 
                price: 4000000, 
                status: "available",
                owner: { name: "Ø£Ø­Ù…Ø¯ Ø§Ù„Ø¹Ù„ÙŠ", phone: "07801234567" },
                bookings: []
            },
            { 
                id: 2, 
                name: "Ù‚Ø§Ø¹Ø© Ø¨Ø§Ø¨Ù„", 
                area: "Ø§Ù„Ø¬Ø§Ø¯Ø±ÙŠØ©", 
                capacity: 500, 
                price: 3500000, 
                status: "available",
                owner: { name: "Ù…Ø­Ù…Ø¯ Ø§Ù„ÙƒØ§Ø¸Ù…ÙŠ", phone: "07807654321" },
                bookings: []
            }
        ];

        let notifications = [];

        // Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø§Ø¹Ø§Øª Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡
        function displayHalls() {
            const hallsList = document.getElementById('halls-list');
            hallsList.innerHTML = '';

            halls.forEach(hall => {
                const statusText = hall.status === 'available' ? 'Ù…ØªØ§Ø­Ø©' : 
                                 hall.status === 'booked' ? 'Ù…Ø­Ø¬ÙˆØ²Ø©' : 'ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±';
                const statusClass = hall.status === 'available' ? 'status-available' : 
                                  hall.status === 'booked' ? 'status-booked' : 'status-pending';

                const hallCard = `
                    <div class="hall-card">
                        <span class="hall-status ${statusClass}">${statusText}</span>
                        <h3>${hall.name}</h3>
                        <p>ğŸ“ ${hall.area}</p>
                        <p>ğŸ‘¥ ${hall.capacity} Ø´Ø®Øµ</p>
                        <p>ğŸ’° ${hall.price.toLocaleString()} Ø¯ÙŠÙ†Ø§Ø±</p>
                        <p>ğŸ“ ${hall.owner.name} - ${hall.owner.phone}</p>
                        <button class="book-btn" onclick="bookHall(${hall.id})" 
                                ${hall.status !== 'available' ? 'disabled' : ''}>
                            ${hall.status === 'available' ? 'Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†' : statusText}
                        </button>
                    </div>
                `;
                hallsList.innerHTML += hallCard;
            });
        }

        // Ø¹Ø±Ø¶ Ù‚Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ø§Ù„Ùƒ
        function displayOwnerHalls() {
            const ownerHallsDiv = document.getElementById('owner-halls');
            ownerHallsDiv.innerHTML = '';

            halls.forEach(hall => {
                const bookingsCount = hall.bookings.length;
                const hallCard = `
                    <div class="hall-card">
                        <h3>${hall.name}</h3>
                        <p>ğŸ“ ${hall.area}</p>
                        <p>Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª: ${bookingsCount}</p>
                        <div class="action-buttons">
                            <button class="btn btn-success" onclick="viewHallBookings(${hall.id})">Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª</button>
                            <button class="btn btn-warning" onclick="changeHallStatus(${hall.id})">ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø©</button>
                        </div>
                    </div>
                `;
                ownerHallsDiv.innerHTML += hallCard;
            });
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function displayNotifications() {
            const notificationsList = document.getElementById('notifications-list');
            notificationsList.innerHTML = '';

            notifications.forEach((notif, index) => {
                const notification = `
                    <div class="notification ${notif.read ? '' : 'new'}">
                        <div>
                            <strong>${notif.title}</strong>
                            <p>${notif.message}</p>
                            <small>${notif.time}</small>
                        </div>
                        <div>
                            <button class="btn btn-success" onclick="confirmBooking(${notif.bookingId})">Ù‚Ø¨ÙˆÙ„</button>
                            <button class="btn btn-danger" onclick="rejectBooking(${notif.bookingId})">Ø±ÙØ¶</button>
                        </div>
                    </div>
                `;
                notificationsList.innerHTML += notification;
            });

            updateStats();
        }

        // Ø­Ø¬Ø² Ù‚Ø§Ø¹Ø©
        function bookHall(hallId) {
            const hall = halls.find(h => h.id === hallId);
            const customerName = prompt("Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ:");
            const phone = prompt("Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ:");
            const date = prompt("Ø£Ø¯Ø®Ù„ Ø§Ù„ØªØ§Ø±ÙŠØ® (Ù…Ø«Ø§Ù„: 2024-12-25):");

            if (customerName && phone && date) {
                const booking = {
                    id: Date.now(),
                    hallId: hallId,
                    customerName: customerName,
                    phone: phone,
                    date: date,
                    status: 'pending'
                };

                hall.bookings.push(booking);
                hall.status = 'pending';

                // Ø¥Ø¶Ø§ÙØ© Ø¥Ø´Ø¹Ø§Ø±
                notifications.push({
                    id: Date.now(),
                    title: 'Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯',
                    message: Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯ Ù„Ù€ ${hall.name} Ù…Ù† ${customerName},
                    time: new Date().toLocaleString('ar-IQ'),
                    bookingId: booking.id,
                    read: false
                });

                alert('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø­Ø¬Ø²! Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù„Ù„ØªØ£ÙƒÙŠØ¯.');
                displayHalls();
                displayNotifications();
            }
        }

        // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²
        function confirmBooking(bookingId) {
            const notification = notifications.find(n => n.bookingId === bookingId);
            const hall = halls.find(h => h.bookings.some(b => b.id === bookingId));
            const booking = hall.bookings.find(b => b.id === bookingId);
            
            booking.status = 'confirmed';
            hall.status = 'booked';
            
            alert(ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø­Ø¬Ø² ${hall.name} Ù„Ù„Ø¹Ù…ÙŠÙ„ ${booking.customerName});
            displayHalls();
            displayNotifications();
        }

        // Ø±ÙØ¶ Ø§Ù„Ø­Ø¬Ø²
        function rejectBooking(bookingId) {
            const notification = notifications.find(n => n.bookingId === bookingId);
            const hall = halls.find(h => h.bookings.some(b => b.id === bookingId));
            const booking = hall.bookings.find(b => b.id === bookingId);
            
            booking.status = 'rejected';
            hall.status = 'available';
            
            alert(ØªÙ… Ø±ÙØ¶ Ø­Ø¬Ø² ${hall.name} Ù„Ù„Ø¹Ù…ÙŠÙ„ ${booking.customerName});
            displayHalls();
            displayNotifications();
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        function updateStats() {
            const totalBookings = halls.reduce((sum, hall) => sum + hall.bookings.length, 0);
            const pendingBookings = halls.reduce((sum, hall) => sum + hall.bookings.filter(b => b.status === 'pending').length, 0);
            const confirmedBookings = halls.reduce((sum, hall) => sum + hall.bookings.filter(b => b.status === 'confirmed').length, 0);

            document.getElementById('total-bookings').textContent = totalBookings;
            document.getElementById('pending-bookings').textContent = pendingBookings;
            document.getElementById('confirmed-bookings').textContent = confirmedBookings;
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ØµÙØ­Ø§Øª
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
            
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ØµÙØ­Ø§Øª
            if (pageId === 'client') displayHalls();
            if (pageId === 'owner') displayOwnerHalls();
            if (pageId === 'admin') displayNotifications();
        }

        // ÙˆØ¸Ø§Ø¦Ù Ø¥Ø¶Ø§ÙÙŠØ©
        function addHall() {
            alert('Ø®Ø§ØµÙŠØ© Ø¥Ø¶Ø§ÙØ© Ù‚Ø§Ø¹Ø© Ø¬Ø¯ÙŠØ¯Ø© - Ù‚Ø±ÙŠØ¨Ø§Ù‹!');
        }

        function refreshStatus() {
            alert('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª!');
            displayOwnerHalls();
        }

        function viewHallBookings(hallId) {
            const hall = halls.find(h => h.id === hallId);
            let bookingsText = Ø­Ø¬ÙˆØ²Ø§Øª ${hall.name}:\n\n;
            hall.bookings.forEach(booking => {
                bookingsText += ğŸ‘¤ ${booking.customerName}\nğŸ“ ${booking.phone}\nğŸ“… ${booking.date}\nâœ… ${booking.status}\n\n;
            });
            alert(bookingsText || 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø¬ÙˆØ²Ø§Øª');
        }

        function changeHallStatus(hallId) {
            const hall = halls.find(h => h.id === hallId);
            const newStatus = prompt(ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© ${hall.name} (available/booked):, hall.status);
            if (newStatus) {
                hall.status = newStatus;
                alert('ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø©!');
                displayHalls();
                displayOwnerHalls();
            }
        }

        // Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰
        document.addEventListener('DOMContentLoaded', function() {
            displayHalls();
            displayNotifications();
        });
    </script>
</body>
</html>
