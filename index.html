<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¹Ø±Ø§ÙŠØ³ - Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø§Ø¹Ø§Øª</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        
        body {
            background: #f0f2f5;
            padding: 20px;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        .header {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            padding: 25px;
            text-align: center;
        }

        .header h1 {
            font-size: 1.8em;
            margin-bottom: 10px;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            padding: 10px;
            border-bottom: 2px solid #e9ecef;
        }

        .tab {
            flex: 1;
            padding: 12px;
            border: none;
            background: none;
            cursor: pointer;
            font-weight: bold;
            border-radius: 8px;
            margin: 0 5px;
            transition: all 0.3s ease;
        }

        .tab.active {
            background: #28a745;
            color: white;
        }

        .tab:hover {
            background: #e9ecef;
        }

        .tab.active:hover {
            background: #218838;
        }

        .content {
            padding: 20px;
            min-height: 400px;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .hall-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            position: relative;
            transition: all 0.3s ease;
        }

        .hall-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .hall-card.available {
            border-left: 4px solid #28a745;
        }

        .hall-card.booked {
            border-left: 4px solid #dc3545;
        }

        .status {
            position: absolute;
            top: 15px;
            left: 15px;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }

        .status.available {
            background: #d4edda;
            color: #155724;
        }

        .status.booked {
            background: #f8d7da;
            color: #721c24;
        }

        button {
            background: #28a745;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px 0;
            width: 100%;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        button:hover {
            background: #218838;
            transform: translateY(-1px);
        }

        button:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
        }

        .notification {
            background: #e8f5e8;
            border: 1px solid #28a745;
            padding: 12px;
            border-radius: 8px;
            margin: 8px 0;
            transition: all 0.3s ease;
        }

        .notification:hover {
            background: #d4edda;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .action-buttons button {
            flex: 1;
        }

        .btn-success {
            background: #28a745;
        }

        .btn-success:hover {
            background: #218838;
        }

        .btn-danger {
            background: #dc3545;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .btn-warning {
            background: #ffc107;
            color: #212529;
        }

        .btn-warning:hover {
            background: #e0a800;
        }

        h2 {
            color: #28a745;
            margin-bottom: 15px;
            text-align: center;
        }

        p {
            color: #495057;
            margin: 5px 0;
        }

        strong {
            color: #28a745;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸŠ Ø¹Ø±Ø§ÙŠØ³ - Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø§Ø¹Ø§Øª</h1>
            <p>Ø±Ø¨Ø· Ù…Ø¨Ø§Ø´Ø± Ø¨ÙŠÙ† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ£ØµØ­Ø§Ø¨ Ø§Ù„Ù‚Ø§Ø¹Ø§Øª</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showPage('client')">ğŸ‘¥ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</button>
            <button class="tab" onclick="showPage('owner')">ğŸ¢ Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ù‚Ø§Ø¹Ø§Øª</button>
            <button class="tab" onclick="showPage('notifications')">ğŸ“± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</button>
        </div>

        <div class="content">
            <!-- ØµÙØ­Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ -->
            <div id="client" class="page active">
                <h2>ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† Ù‚Ø§Ø¹Ø© Ù„Ø­ÙÙ„ØªÙƒ</h2>
                <div id="client-halls">
                    <!-- Ø§Ù„Ù‚Ø§Ø¹Ø§Øª ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                </div>
            </div>

            <!-- ØµÙØ­Ø© Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ù‚Ø§Ø¹Ø§Øª -->
            <div id="owner" class="page">
                <h2>ğŸ¢ Ø¥Ø¯Ø§Ø±Ø© Ù‚Ø§Ø¹Ø§ØªÙƒ</h2>
                <button onclick="addNewHall()" style="background: #20c997; margin-bottom: 15px;">â• Ø¥Ø¶Ø§ÙØ© Ù‚Ø§Ø¹Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
                <div id="owner-halls">
                    <!-- Ù‚Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ø§Ù„Ùƒ ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                </div>
            </div>

            <!-- ØµÙØ­Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
            <div id="notifications" class="page">
                <h2>ğŸ“± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙˆØ§Ù„Ø­Ø¬ÙˆØ²Ø§Øª</h2>
                <div id="notifications-list">
                    <!-- Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        let halls = [
            {
                id: 1,
                name: "Ù‚Ø§Ø¹Ø© Ø§Ù„Ø±Ø´ÙŠØ¯",
                area: "Ø§Ù„Ù…Ù†ØµÙˆØ±",
                capacity: 600,
                price: 4000000,
                status: "available",
                owner: "Ø£Ø­Ù…Ø¯ Ø§Ù„Ø¹Ù„ÙŠ",
                ownerPhone: "07801234567",
                bookings: []
            },
            {
                id: 2, 
                name: "Ù‚Ø§Ø¹Ø© Ø¨Ø§Ø¨Ù„",
                area: "Ø§Ù„Ø¬Ø§Ø¯Ø±ÙŠØ©", 
                capacity: 500,
                price: 3500000,
                status: "available",
                owner: "Ù…Ø­Ù…Ø¯ Ø§Ù„ÙƒØ§Ø¸Ù…ÙŠ", 
                ownerPhone: "07807654321",
                bookings: []
            }
        ];

        let notifications = [];

        // Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø§Ø¹Ø§Øª Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡
        function displayClientHalls() {
            const container = document.getElementById('client-halls');
            container.innerHTML = '';

            halls.forEach(hall => {
                const statusClass = hall.status === 'available' ? 'available' : 'booked';
                const statusText = hall.status === 'available' ? 'Ù…ØªØ§Ø­Ø©' : 'Ù…Ø­Ø¬ÙˆØ²Ø©';
                
                const hallCard = `
                    <div class="hall-card ${statusClass}">
                        <span class="status ${statusClass}">${statusText}</span>
                        <h3>${hall.name}</h3>
                        <p><strong>ğŸ“ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©:</strong> ${hall.area}</p>
                        <p><strong>ğŸ‘¥ Ø§Ù„Ø³Ø¹Ø©:</strong> ${hall.capacity} Ø´Ø®Øµ</p>
                        <p><strong>ğŸ’° Ø§Ù„Ø³Ø¹Ø±:</strong> ${hall.price.toLocaleString()} Ø¯ÙŠÙ†Ø§Ø±</p>
                        <p><strong>ğŸ“ ØµØ§Ø­Ø¨ Ø§Ù„Ù‚Ø§Ø¹Ø©:</strong> ${hall.owner} - ${hall.ownerPhone}</p>
                        <button onclick="bookHall(${hall.id})" ${hall.status !== 'available' ? 'disabled' : ''}>
                            ${hall.status === 'available' ? 'ğŸ‰ Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†' : 'âŒ Ù…Ø­Ø¬ÙˆØ²Ø©'}
                        </button>
                    </div>
                `;
                container.innerHTML += hallCard;
            });
        }

        // Ø¹Ø±Ø¶ Ù‚Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ø§Ù„Ùƒ
        function displayOwnerHalls() {
            const container = document.getElementById('owner-halls');
            container.innerHTML = '';

            halls.forEach(hall => {
                const bookingsCount = hall.bookings.length;
                const hallCard = `
                    <div class="hall-card">
                        <h3>${hall.name}</h3>
                        <p><strong>Ø§Ù„Ø­Ø§Ù„Ø©:</strong> <span class="status ${hall.status}">${hall.status === 'available' ? 'Ù…ØªØ§Ø­Ø©' : 'Ù…Ø­Ø¬ÙˆØ²Ø©'}</span></p>
                        <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª:</strong> ${bookingsCount}</p>
                        <div class="action-buttons">
                            <button class="btn-warning" onclick="viewBookings(${hall.id})">ğŸ“… Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª</button>
                            <button class="btn-success" onclick="changeHallStatus(${hall.id})">ğŸ”„ ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø©</button>
                        </div>
                    </div>
                `;
                container.innerHTML += hallCard;
            });
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function displayNotifications() {
            const container = document.getElementById('notifications-list');
            container.innerHTML = '';

            if (notifications.length === 0) {
                container.innerHTML = '<div class="notification"><p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</p></div>';
                return;
            }

            notifications.forEach(notif => {
                const notification = `
                    <div class="notification">
                        <strong>${notif.title}</strong>
                        <p>${notif.message}</p>
                        <small>â° ${notif.time}</small>
                        ${notif.bookingId ? `
                            <div class="action-buttons">
                                <button class="btn-success" onclick="confirmBooking(${notif.bookingId})">âœ… Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø­Ø¬Ø²</button>
                                <button class="btn-danger" onclick="rejectBooking(${notif.bookingId})">âŒ Ø±ÙØ¶ Ø§Ù„Ø­Ø¬Ø²</button>
                            </div>
                        ` : ''}
                    </div>
                `;
                container.innerHTML += notification;
            });
        }

        // Ø­Ø¬Ø² Ù‚Ø§Ø¹Ø©
        function bookHall(hallId) {
            const hall = halls.find(h => h.id === hallId);
            
            const name = prompt("ğŸ‘¤ Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ:");
            if (!name) return;

            const phone = prompt("ğŸ“ Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ:");
            if (!phone) return;

            const date = prompt("ğŸ“… Ø£Ø¯Ø®Ù„ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø¬Ø² (Ù…Ø«Ø§Ù„: 2024-12-25):");
            if (!date) return;

            // Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯
            const booking = {
                id: Date.now(),
                customerName: name,
                customerPhone: phone,
                date: date,
                status: 'pending'
            };

            hall.bookings.push(booking);
            hall.status = 'booked';

            // Ø¥Ø¶Ø§ÙØ© Ø¥Ø´Ø¹Ø§Ø±
            notifications.push({
                id: Date.now(),
                title: 'Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯ ğŸ“…',
                message: Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯ Ù„Ù€ ${hall.name} Ù…Ù† ${name} (${phone}) ÙÙŠ ${date},
                time: new Date().toLocaleString('ar-IQ'),
                bookingId: booking.id
            });

            alert('ğŸ‰ ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø­Ø¬Ø²! Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù„Ù„ØªØ£ÙƒÙŠØ¯.');
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
            displayClientHalls();
            displayOwnerHalls();
            displayNotifications();
        }

        // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²
        function confirmBooking(bookingId) {
            let found = false;
            
            for (let hall of halls) {
                const booking = hall.bookings.find(b => b.id === bookingId);
                if (booking) {
                    booking.status = 'confirmed';
                    hall.status = 'booked';
                    found = true;
                    
                    notifications.push({
                        id: Date.now(),
                        title: 'ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² âœ…',
                        message: ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø­Ø¬Ø² ${hall.name} Ù„Ù„Ø¹Ù…ÙŠÙ„ ${booking.customerName},
                        time: new Date().toLocaleString('ar-IQ')
                    });
                    
                    alert('âœ… ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²!');
                    break;
                }
            }
            
            if (found) {
                displayClientHalls();
                displayOwnerHalls();
                displayNotifications();
            }
        }

        // Ø±ÙØ¶ Ø§Ù„Ø­Ø¬Ø²
        function rejectBooking(bookingId) {
            let found = false;
            
            for (let hall of halls) {
                const bookingIndex = hall.bookings.findIndex(b => b.id === bookingId);
                if (bookingIndex !== -1) {
                    const booking = hall.bookings[bookingIndex];
                    
                    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø­Ø¬Ø²
                    hall.bookings.splice(bookingIndex, 1);
                    hall.status = 'available';
                    found = true;
                    
                    notifications.push({
                        id: Date.now(),
                        title: 'ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø­Ø¬Ø² âŒ',
                        message: ØªÙ… Ø±ÙØ¶ Ø­Ø¬Ø² ${hall.name} Ù„Ù„Ø¹Ù…ÙŠÙ„ ${booking.customerName},
                        time: new Date().toLocaleString('ar-IQ')
                    });
                    
                    alert('âŒ ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø­Ø¬Ø²!');
                    break;
                }
            }
            
            if (found) {
                displayClientHalls();
                displayOwnerHalls();
                displayNotifications();
            }
        }

        // Ø¹Ø±Ø¶ Ø­Ø¬ÙˆØ²Ø§Øª Ù‚Ø§Ø¹Ø©
        function viewBookings(hallId) {
            const hall = halls.find(h => h.id === hallId);
            if (!hall.bookings || hall.bookings.length === 0) {
                alert('ğŸ“­ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø¬ÙˆØ²Ø§Øª Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù‚Ø§Ø¹Ø©');
                return;
            }

            let message = Ø­Ø¬ÙˆØ²Ø§Øª ${hall.name}:\n\n;
            hall.bookings.forEach(booking => {
                message += ğŸ‘¤ Ø§Ù„Ø¹Ù…ÙŠÙ„: ${booking.customerName}\n;
                message += ğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${booking.customerPhone}\n;
                message += ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: ${booking.date}\n;
                message += âœ… Ø§Ù„Ø­Ø§Ù„Ø©: ${booking.status}\n;
                message += 'â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n';
            });
            alert(message);
        }

        // ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ù‚Ø§Ø¹Ø©
        function changeHallStatus(hallId) {
            const hall = halls.find(h => h.id === hallId);
            const newStatus = hall.status === 'available' ? 'booked' : 'available';
            hall.status = newStatus;
            
            const statusText = newStatus === 'available' ? 'Ù…ØªØ§Ø­Ø©' : 'Ù…Ø­Ø¬ÙˆØ²Ø©';
            alert(ğŸ”„ ØªÙ… ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© ${hall.name} Ø¥Ù„Ù‰ ${statusText});
            
            displayClientHalls();
            displayOwnerHalls();
        }

        // Ø¥Ø¶Ø§ÙØ© Ù‚Ø§Ø¹Ø© Ø¬Ø¯ÙŠØ¯Ø©
        function addNewHall() {
            const name = prompt("ğŸ¢ Ø§Ø³Ù… Ø§Ù„Ù‚Ø§Ø¹Ø©:");
            if (!name) return;

            const area = prompt("ğŸ“ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©:");
            if (!area) return;

            const capacity = prompt("ğŸ‘¥ Ø§Ù„Ø³Ø¹Ø© (Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ø®Ø§Øµ):");
            if (!capacity) return;

            const price = prompt("ğŸ’° Ø§Ù„Ø³Ø¹Ø± (Ø¯ÙŠÙ†Ø§Ø±):");
            if (!price) return;

            const owner = prompt("ğŸ‘¤ Ø§Ø³Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ù‚Ø§Ø¹Ø©:");
            if (!owner) return;

            const ownerPhone = prompt("ğŸ“ Ù‡Ø§ØªÙ ØµØ§Ø­Ø¨ Ø§Ù„Ù‚Ø§Ø¹Ø©:");
            if (!ownerPhone) return;

            const newHall = {
                id: halls.length + 1,
                name: name,
                area: area,
                capacity: parseInt(capacity),
                price: parseInt(price),
                status: "available",
                owner: owner,
                ownerPhone: ownerPhone,
                bookings: []
            };

            halls.push(newHall);
            
            notifications.push({
                id: Date.now(),
                title: 'Ù‚Ø§Ø¹Ø© Ø¬Ø¯ÙŠØ¯Ø© ğŸŠ',
                message: ØªÙ… Ø¥Ø¶Ø§ÙØ© Ù‚Ø§Ø¹Ø© ${name} ÙÙŠ ${area},
                time: new Date().toLocaleString('ar-IQ')
            });
            
            alert('âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ø§Ø¹Ø© Ø¨Ù†Ø¬Ø§Ø­!');
            
            displayClientHalls();
            displayOwnerHalls();
            displayNotifications();
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ØµÙØ­Ø§Øª
        function showPage(pageId) {
            // Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„ Ø§Ù„ØµÙØ­Ø§Øª
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
            document.getElementById(pageId).classList.add('active');
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            if (pageId === 'client') displayClientHalls();
            if (pageId === 'owner') displayOwnerHalls();
            if (pageId === 'notifications') displayNotifications();
        }

        // Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.onload = function() {
            displayClientHalls();
            displayOwnerHalls();
            displayNotifications();
        };
    </script>
</body>
</html>
