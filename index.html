<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¹Ø±Ø§ÙŠØ³ - Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø§Ø¹Ø§Øª</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        
        body {
            background: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            color: #8B4513;
            margin-bottom: 20px;
        }

        .tabs {
            display: flex;
            margin-bottom: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 5px;
        }

        .tab {
            flex: 1;
            padding: 10px;
            text-align: center;
            border: none;
            background: none;
            cursor: pointer;
            border-radius: 8px;
        }

        .tab.active {
            background: #8B4513;
            color: white;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .hall-card {
            background: white;
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
        }

        .hall-card.available {
            border-color: #28a745;
        }

        .hall-card.booked {
            border-color: #dc3545;
        }

        .status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .status.available {
            background: #d4edda;
            color: #155724;
        }

        .status.booked {
            background: #f8d7da;
            color: #721c24;
        }

        button {
            background: #8B4513;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }

        button:disabled {
            background: #6c757d;
            cursor: not-allowed;
        }

        .notification {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 10px;
            border-radius: 5px;
            margin: 5px 0;
        }

        .form-group {
            margin: 10px 0;
        }

        input, select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŠ Ø¹Ø±Ø§ÙŠØ³ - Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø§Ø¹Ø§Øª</h1>
        
        <div class="tabs">
            <button class="tab active" onclick="showTab('client')">Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</button>
            <button class="tab" onclick="showTab('owner')">Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ù‚Ø§Ø¹Ø§Øª</button>
            <button class="tab" onclick="showTab('notifications')">Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</button>
        </div>

        <!-- ØµÙØ­Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ -->
        <div id="client" class="page active">
            <h2>Ø§Ù„Ù‚Ø§Ø¹Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©</h2>
            <div id="client-halls">
                <!-- Ø§Ù„Ù‚Ø§Ø¹Ø§Øª ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
            </div>
        </div>

        <!-- ØµÙØ­Ø© Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ù‚Ø§Ø¹Ø§Øª -->
        <div id="owner" class="page">
            <h2>Ø¥Ø¯Ø§Ø±Ø© Ù‚Ø§Ø¹Ø§ØªÙƒ</h2>
            <button onclick="showAddHallForm()">â• Ø¥Ø¶Ø§ÙØ© Ù‚Ø§Ø¹Ø©</button>
            <div id="owner-halls">
                <!-- Ù‚Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ø§Ù„Ùƒ ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
            </div>
        </div>

        <!-- ØµÙØ­Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
        <div id="notifications" class="page">
            <h2>Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙˆØ§Ù„Ø­Ø¬ÙˆØ²Ø§Øª</h2>
            <div id="notifications-list">
                <!-- Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
            </div>
        </div>
    </div>

    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        let halls = [
            {
                id: 1,
                name: "Ù‚Ø§Ø¹Ø© Ø§Ù„Ø±Ø´ÙŠØ¯",
                area: "Ø§Ù„Ù…Ù†ØµÙˆØ±",
                capacity: 600,
                price: 4000000,
                status: "available",
                owner: "Ø£Ø­Ù…Ø¯ Ø§Ù„Ø¹Ù„ÙŠ",
                ownerPhone: "07801234567",
                bookings: []
            },
            {
                id: 2, 
                name: "Ù‚Ø§Ø¹Ø© Ø¨Ø§Ø¨Ù„",
                area: "Ø§Ù„Ø¬Ø§Ø¯Ø±ÙŠØ©",
                capacity: 500,
                price: 3500000,
                status: "available", 
                owner: "Ù…Ø­Ù…Ø¯ Ø§Ù„ÙƒØ§Ø¸Ù…ÙŠ",
                ownerPhone: "07807654321",
                bookings: []
            }
        ];

        let notifications = [];

        // Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø§Ø¹Ø§Øª Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡
        function displayClientHalls() {
            const container = document.getElementById('client-halls');
            container.innerHTML = '';

            halls.forEach(hall => {
                const statusClass = hall.status === 'available' ? 'available' : 'booked';
                const statusText = hall.status === 'available' ? 'Ù…ØªØ§Ø­Ø©' : 'Ù…Ø­Ø¬ÙˆØ²Ø©';
                
                const hallCard = `
                    <div class="hall-card ${statusClass}">
                        <span class="status ${statusClass}">${statusText}</span>
                        <h3>${hall.name}</h3>
                        <p><strong>Ø§Ù„Ù…Ù†Ø·Ù‚Ø©:</strong> ${hall.area}</p>
                        <p><strong>Ø§Ù„Ø³Ø¹Ø©:</strong> ${hall.capacity} Ø´Ø®Øµ</p>
                        <p><strong>Ø§Ù„Ø³Ø¹Ø±:</strong> ${hall.price.toLocaleString()} Ø¯ÙŠÙ†Ø§Ø±</p>
                        <p><strong>ØµØ§Ø­Ø¨ Ø§Ù„Ù‚Ø§Ø¹Ø©:</strong> ${hall.owner} - ${hall.ownerPhone}</p>
                        <button onclick="bookHall(${hall.id})" ${hall.status !== 'available' ? 'disabled' : ''}>
                            ${hall.status === 'available' ? 'Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†' : 'Ù…Ø­Ø¬ÙˆØ²Ø©'}
                        </button>
                    </div>
                `;
                container.innerHTML += hallCard;
            });
        }

        // Ø¹Ø±Ø¶ Ù‚Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ø§Ù„Ùƒ
        function displayOwnerHalls() {
            const container = document.getElementById('owner-halls');
            container.innerHTML = '';

            halls.forEach(hall => {
                const hallCard = `
                    <div class="hall-card">
                        <h3>${hall.name}</h3>
                        <p>Ø§Ù„Ø­Ø§Ù„Ø©: <span class="status ${hall.status}">${hall.status === 'available' ? 'Ù…ØªØ§Ø­Ø©' : 'Ù…Ø­Ø¬ÙˆØ²Ø©'}</span></p>
                        <p>Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª: ${hall.bookings.length}</p>
                        <button onclick="viewBookings(${hall.id})">Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª</button>
                        <button onclick="changeStatus(${hall.id})">ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø©</button>
                    </div>
                `;
                container.innerHTML += hallCard;
            });
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function displayNotifications() {
            const container = document.getElementById('notifications-list');
            container.innerHTML = '';

            if (notifications.length === 0) {
                container.innerHTML = '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</p>';
                return;
            }

            notifications.forEach(notif => {
                const notification = `
                    <div class="notification">
                        <strong>${notif.title}</strong>
                        <p>${notif.message}</p>
                        <small>${notif.time}</small>
                        ${notif.bookingId ? `
                            <div>
                                <button onclick="confirmBooking(${notif.bookingId})">Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø­Ø¬Ø²</button>
                                <button onclick="rejectBooking(${notif.bookingId})">Ø±ÙØ¶ Ø§Ù„Ø­Ø¬Ø²</button>
                            </div>
                        ` : ''}
                    </div>
                `;
                container.innerHTML += notification;
            });
        }

        // Ø­Ø¬Ø² Ù‚Ø§Ø¹Ø©
        function bookHall(hallId) {
            const hall = halls.find(h => h.id === hallId);
            
            const name = prompt("Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ:");
            if (!name) return;

            const phone = prompt("Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙÙƒ:");
            if (!phone) return;

            const date = prompt("Ø£Ø¯Ø®Ù„ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø¬Ø² (Ù…Ø«Ø§Ù„: 2024-12-25):");
            if (!date) return;

            // Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯
            const booking = {
                id: Date.now(),
                customerName: name,
                customerPhone: phone,
                date: date,
                status: 'pending'
            };

            hall.bookings.push(booking);
            hall.status = 'booked';

            // Ø¥Ø¶Ø§ÙØ© Ø¥Ø´Ø¹Ø§Ø±
            notifications.push({
                id: Date.now(),
                title: 'Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯ ğŸ“…',
                message: Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯ Ù„Ù€ ${hall.name} Ù…Ù† ${name} (${phone}) ÙÙŠ ${date},
                time: new Date().toLocaleString('ar-IQ'),
                bookingId: booking.id
            });

            alert('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„Ø­Ø¬Ø²! Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù„Ù„ØªØ£ÙƒÙŠØ¯.');
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
            displayClientHalls();
            displayOwnerHalls();
            displayNotifications();
        }

        // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²
        function confirmBooking(bookingId) {
            // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø­Ø¬Ø² ÙÙŠ ÙƒÙ„ Ø§Ù„Ù‚Ø§Ø¹Ø§Øª
            for (let hall of halls) {
                const booking = hall.bookings.find(b => b.id === bookingId);
                if (booking) {
                    booking.status = 'confirmed';
                    hall.status = 'booked';
                    
                    notifications.push({
                        id: Date.now(),
                        title: 'ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø² âœ…',
                        message: ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø­Ø¬Ø² ${hall.name} Ù„Ù„Ø¹Ù…ÙŠÙ„ ${booking.customerName},
                        time: new Date().toLocaleString('ar-IQ')
                    });
                    
                    alert('ØªÙ… ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø¬Ø²!');
                    break;
                }
            }
            
            displayClientHalls();
            displayOwnerHalls();
            displayNotifications();
        }

        // Ø±ÙØ¶ Ø§Ù„Ø­Ø¬Ø²
        function rejectBooking(bookingId) {
            // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø­Ø¬Ø² ÙÙŠ ÙƒÙ„ Ø§Ù„Ù‚Ø§Ø¹Ø§Øª
            for (let hall of halls) {
                const booking = hall.bookings.find(b => b.id === bookingId);
                if (booking) {
                    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø­Ø¬Ø²
                    hall.bookings = hall.bookings.filter(b => b.id !== bookingId);
                    hall.status = 'available';
                    
                    notifications.push({
                        id: Date.now(),
                        title: 'ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø­Ø¬Ø§Ø± âŒ',
                        message: ØªÙ… Ø±ÙØ¶ Ø­Ø¬Ø² ${hall.name} Ù„Ù„Ø¹Ù…ÙŠÙ„ ${booking.customerName},
                        time: new Date().toLocaleString('ar-IQ')
                    });
                    
                    alert('ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø­Ø¬Ø²!');
                    break;
                }
            }
            
            displayClientHalls();
            displayOwnerHalls();
            displayNotifications();
        }

        // Ø¹Ø±Ø¶ Ø­Ø¬ÙˆØ²Ø§Øª Ù‚Ø§Ø¹Ø©
        function viewBookings(hallId) {
            const hall = halls.find(h => h.id === hallId);
            if (hall.bookings.length === 0) {
                alert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø¬ÙˆØ²Ø§Øª Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù‚Ø§Ø¹Ø©');
                return;
            }

            let message = Ø­Ø¬ÙˆØ²Ø§Øª ${hall.name}:\n\n;
            hall.bookings.forEach(booking => {
                message += Ø§Ù„Ø¹Ù…ÙŠÙ„: ${booking.customerName}\n;
                message += Ø§Ù„Ù‡Ø§ØªÙ: ${booking.customerPhone}\n;
                message += Ø§Ù„ØªØ§Ø±ÙŠØ®: ${booking.date}\n;
                message += Ø§Ù„Ø­Ø§Ù„Ø©: ${booking.status}\n\n;
            });
            alert(message);
        }

        // ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ù‚Ø§Ø¹Ø©
        function changeStatus(hallId) {
            const hall = halls.find(h => h.id === hallId);
            const newStatus = hall.status === 'available' ? 'booked' : 'available';
            hall.status = newStatus;
            
            alert(ØªÙ… ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© ${hall.name} Ø¥Ù„Ù‰ ${newStatus === 'available' ? 'Ù…ØªØ§Ø­Ø©' : 'Ù…Ø­Ø¬ÙˆØ²Ø©'});
            displayClientHalls();
            displayOwnerHalls();
        }

        // Ø¥Ø¶Ø§ÙØ© Ù‚Ø§Ø¹Ø© Ø¬Ø¯ÙŠØ¯Ø©
        function showAddHallForm() {
            const name = prompt("Ø§Ø³Ù… Ø§Ù„Ù‚Ø§Ø¹Ø©:");
            if (!name) return;

            const area = prompt("Ø§Ù„Ù…Ù†Ø·Ù‚Ø©:");
            if (!area) return;

            const capacity = prompt("Ø§Ù„Ø³Ø¹Ø© (Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ø®Ø§Øµ):");
            if (!capacity) return;

            const price = prompt("Ø§Ù„Ø³Ø¹Ø± (Ø¯ÙŠÙ†Ø§Ø±):");
            if (!price) return;

            const owner = prompt("Ø§Ø³Ù… ØµØ§Ø­Ø¨ Ø§Ù„Ù‚Ø§Ø¹Ø©:");
            if (!owner) return;

            const ownerPhone = prompt("Ù‡Ø§ØªÙ ØµØ§Ø­Ø¨ Ø§Ù„Ù‚Ø§Ø¹Ø©:");
            if (!ownerPhone) return;

            const newHall = {
                id: halls.length + 1,
                name: name,
                area: area,
                capacity: parseInt(capacity),
                price: parseInt(price),
                status: "available",
                owner: owner,
                ownerPhone: ownerPhone,
                bookings: []
            };

            halls.push(newHall);
            alert('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ø§Ø¹Ø© Ø¨Ù†Ø¬Ø§Ø­!');
            displayClientHalls();
            displayOwnerHalls();
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
        function showTab(tabName) {
            // Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„ Ø§Ù„ØµÙØ­Ø§Øª
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
            document.getElementById(tabName).classList.add('active');
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            if (tabName === 'client') displayClientHalls();
            if (tabName === 'owner') displayOwnerHalls();
            if (tabName === 'notifications') displayNotifications();
        }

        // Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰
        document.addEventListener('DOMContentLoaded', function() {
            displayClientHalls();
            displayOwnerHalls();
            displayNotifications();
        });
    </script>
</body>
</html>
